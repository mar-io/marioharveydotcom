<!DOCTYPE html>
<html lang="en-US">

<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="chrome=1">
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="referrer" content="no-referrer">
<meta name="description" content="Don&#39;t panic">

<base href="https://marioharvey.com">
<title>


     SVN and Keepalive 

</title>
<link rel="canonical" href="https://marioharvey.com/blog/svn-and-keepalive/">


<script type="text/javascript">
    var baseURL = 'https:\/\/marioharvey.com';
    var host = baseURL.substring(0, baseURL.length - 1).replace(/\//g, '');
    if ((host === window.location.host) && (window.location.protocol !== 'https:')) {
        window.location.protocol = 'https:';
    }
</script>




  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.8.0/styles/default.min.css">


<link rel="stylesheet" href="https://marioharvey.com/css/reset.css">
<link rel="stylesheet" href="https://marioharvey.com/css/pygments.css">
<link rel="stylesheet" href="https://marioharvey.com/css/main.css">


    <link rel="stylesheet" href="https://marioharvey.com/css/override.css">



<link rel="shortcut icon"

    href="https://marioharvey.com/img/leaf.ico"

>






</head>


<body lang="en">

<section class="header"> 
    <div class="container">
        <div class="content">
            
            <a href="https://marioharvey.com/"><div class="name">Mario Harvey</div></a>
            <nav>
                <ul>
                    
                    <a href="https://marioharvey.com/about/"><li>About</li></a>
                    
                </ul>
            </nav>
        </div>
    </div>
</section>

<section class="icons">
    <div class="container">
        <div class="content">

        
            <a href="https://github.com/mar-io" target="_blank">
                <i class="icon ion-social-github"></i>
            </a>
        
        
        

        
            <a href="https://www.linkedin.com/in/marioharvey" target="_blank">
                <i class="icon ion-social-linkedin"></i>
            </a>
        

        

        
            <a href="https://soundcloud.com/charmsnakes" target="_blank">
                <i class="icon ion-ios-musical-notes larger"></i>
            </a>
        

        
            <a href="mailto:mario@harvey.codes">
                <i class="icon ion-ios-email larger"></i>
            </a>
        

        
            <a href="https://marioharvey.com/index.xml">
                <i class="icon ion-social-rss larger"></i>
            </a>
        
        </div>
    </div>
</section>


<section class="main post non-narrow zero-top-spacing">
    <div class="container">
        <div class="content">
            <div class="front-matter">
                <div class="title-container">
                    <div class="page-heading">

    SVN and Keepalive

</div>

                    <div class="initials"><a href="https://marioharvey.com">ad</a></div>
                </div>
                <div class="meta">
                    <div class="date" title="Sat May 9 2015 00:09:30 -0500">May 9, 2015</div>
                    <div class="reading-time"><div class="middot"></div>2 minutes read</div>
                </div>
            </div>
            <div class="markdown">
                <p><img src="https://marioharvey.com/content/images/2015/Mar/stayinalive.jpg" alt="cover" /></p>

<p>If you find yourself in the unfortunate position of being responsible for a project using svn (==move to <a href="http://git-scm.com/">Git</a> already it&rsquo;s <strong>2015</strong>==), you may want to make sure to enable the Apache <a href="http://httpd.apache.org/docs/2.2/mod/core.html#keepalive">KeepAlive directive</a> in the httpd.conf on the svn server.</p>

<p>This setting will allow multiple requests (files, text, etc.) to come over the same tcp connection. This is awesome in the case of large svn repos because if that connection breaks you will often get an error like:</p>

<p><strong><code>svn: E175002: Connection reset</code></strong></p>

<p>This will cause your checkout to fail and you will have to start the whole thing again and it will probably fail again with the same error.</p>

<p>So enable keep alive by finding the http.conf on your svn server usually located at <code>/etc/httpd/conf/httpd.conf</code>.</p>

<p>Open the file and make the following changes:</p>

<pre><code># KeepAlive: Whether or not to allow persistent connections (more than
# one request per connection). Set to &quot;Off&quot; to deactivate.
#
KeepAlive On

#
# MaxKeepAliveRequests: The maximum number of requests to allow
# during a persistent connection. Set to 0 to allow an unlimited amount.
# We recommend you leave this number high, for maximum performance.
#
MaxKeepAliveRequests  200 (this can change based on how many users at peak usage)
#
# KeepAliveTimeout: Number of seconds to wait for the next request from the
# same client on the same connection.
#
KeepAliveTimeout 3
</code></pre>

<p>The benefits of using <code>KeepAlive</code> is an <strong>increase in the speed and reliability of svn while reducing cpu usage</strong> since it will not open and close as many connections when checking out code.</p>

<p>The downside is that <strong>memory usage will increase</strong> due to the fact that svn will be holding many connections at same time and waiting for requests and responses over those connections. So make sure to monitor memory usage and gauge what is right for you.</p>

<p>In conclusion, switch to Git.</p>

                <br>
                <p><a href="https://marioharvey.com/blog/">Back to posts</a></p>
            </div>
            <br>
            <div class="disqus">
                <div id="disqus_thread"></div>
<script type="text/javascript">
    var disqus_shortname = 'marioharvey';
    var disqus_identifier = 'https:\/\/marioharvey.com\/blog\/svn-and-keepalive\/';
    var disqus_title = 'SVN and Keepalive';
    var disqus_url = 'https:\/\/marioharvey.com\/blog\/svn-and-keepalive\/';

    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
            </div>
        </div>
    </div>
</section>



<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
    var pageTracker = _gat._getTracker("XYZ");
    pageTracker._trackPageview();
} catch(err) {}
</script>



  <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.8.0/highlight.min.js"></script>
  

  <script type="text/javascript">
    hljs.initHighlightingOnLoad();
  </script>



</body>
</html>

